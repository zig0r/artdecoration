{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { getCanonicalLocales } from './get-canonical-locales';\nimport { invariant } from './invariant';\nimport { toObject, getOption } from './polyfill-utils';\nexport function createResolveLocale(getDefaultLocale) {\n  var lookupMatcher = createLookupMatcher(getDefaultLocale);\n  var bestFitMatcher = createBestFitMatcher(getDefaultLocale);\n  /**\n   * https://tc39.es/ecma402/#sec-resolvelocale\n   */\n\n  return function resolveLocale(availableLocales, requestedLocales, options, relevantExtensionKeys, localeData) {\n    var matcher = options.localeMatcher;\n    var r;\n\n    if (matcher === 'lookup') {\n      r = lookupMatcher(availableLocales, requestedLocales);\n    } else {\n      r = bestFitMatcher(availableLocales, requestedLocales);\n    }\n\n    var foundLocale = r.locale;\n    var result = {\n      locale: '',\n      dataLocale: foundLocale\n    };\n    var supportedExtension = '-u';\n\n    for (var _i = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _i < relevantExtensionKeys_1.length; _i++) {\n      var key = relevantExtensionKeys_1[_i];\n      var foundLocaleData = localeData[foundLocale];\n      invariant(typeof foundLocaleData === 'object' && foundLocaleData !== null, \"locale data \" + key + \" must be an object\");\n      var keyLocaleData = foundLocaleData[key];\n      invariant(Array.isArray(keyLocaleData), \"keyLocaleData for \" + key + \" must be an array\");\n      var value = keyLocaleData[0];\n      invariant(typeof value === 'string' || value === null, 'value must be string or null');\n      var supportedExtensionAddition = '';\n\n      if (r.extension) {\n        var requestedValue = unicodeExtensionValue(r.extension, key);\n\n        if (requestedValue !== undefined) {\n          if (requestedValue !== '') {\n            if (~keyLocaleData.indexOf(requestedValue)) {\n              value = requestedValue;\n              supportedExtensionAddition = \"-\" + key + \"-\" + value;\n            }\n          } else if (~requestedValue.indexOf('true')) {\n            value = 'true';\n            supportedExtensionAddition = \"-\" + key;\n          }\n        }\n      }\n\n      if (key in options) {\n        var optionsValue = options[key];\n        invariant(typeof optionsValue === 'string' || typeof optionsValue === 'undefined' || optionsValue === null, 'optionsValue must be String, Undefined or Null');\n\n        if (~keyLocaleData.indexOf(optionsValue)) {\n          if (optionsValue !== value) {\n            value = optionsValue;\n            supportedExtensionAddition = '';\n          }\n        }\n      }\n\n      result[key] = value;\n      supportedExtension += supportedExtensionAddition;\n    }\n\n    if (supportedExtension.length > 2) {\n      var privateIndex = foundLocale.indexOf('-x-');\n\n      if (privateIndex === -1) {\n        foundLocale = foundLocale + supportedExtension;\n      } else {\n        var preExtension = foundLocale.slice(0, privateIndex);\n        var postExtension = foundLocale.slice(privateIndex, foundLocale.length);\n        foundLocale = preExtension + supportedExtension + postExtension;\n      }\n\n      foundLocale = getCanonicalLocales(foundLocale)[0];\n    }\n\n    result.locale = foundLocale;\n    return result;\n  };\n}\n/**\n * https://tc39.es/ecma402/#sec-unicodeextensionvalue\n * @param extension\n * @param key\n */\n\nfunction unicodeExtensionValue(extension, key) {\n  invariant(key.length === 2, 'key must have 2 elements');\n  var size = extension.length;\n  var searchValue = \"-\" + key + \"-\";\n  var pos = extension.indexOf(searchValue);\n\n  if (pos !== -1) {\n    var start = pos + 4;\n    var end = start;\n    var k = start;\n    var done = false;\n\n    while (!done) {\n      var e = extension.indexOf('-', k);\n      var len = void 0;\n\n      if (e === -1) {\n        len = size - k;\n      } else {\n        len = e - k;\n      }\n\n      if (len === 2) {\n        done = true;\n      } else if (e === -1) {\n        end = size;\n        done = true;\n      } else {\n        end = e;\n        k = e + 1;\n      }\n    }\n\n    return extension.slice(start, end);\n  }\n\n  searchValue = \"-\" + key;\n  pos = extension.indexOf(searchValue);\n\n  if (pos !== -1 && pos + 3 === size) {\n    return '';\n  }\n\n  return undefined;\n}\n\nvar UNICODE_EXTENSION_SEQUENCE_REGEX = /-u(?:-[0-9a-z]{2,8})+/gi;\n/**\n * https://tc39.es/ecma402/#sec-bestavailablelocale\n * @param availableLocales\n * @param locale\n */\n\nfunction bestAvailableLocale(availableLocales, locale) {\n  var candidate = locale;\n\n  while (true) {\n    if (~availableLocales.indexOf(candidate)) {\n      return candidate;\n    }\n\n    var pos = candidate.lastIndexOf('-');\n\n    if (!~pos) {\n      return undefined;\n    }\n\n    if (pos >= 2 && candidate[pos - 2] === '-') {\n      pos -= 2;\n    }\n\n    candidate = candidate.slice(0, pos);\n  }\n}\n\nfunction createLookupMatcher(getDefaultLocale) {\n  /**\n   * https://tc39.es/ecma402/#sec-lookupmatcher\n   */\n  return function lookupMatcher(availableLocales, requestedLocales) {\n    var result = {\n      locale: ''\n    };\n\n    for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n      var locale = requestedLocales_1[_i];\n      var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n      var availableLocale = bestAvailableLocale(availableLocales, noExtensionLocale);\n\n      if (availableLocale) {\n        result.locale = availableLocale;\n\n        if (locale !== noExtensionLocale) {\n          result.extension = locale.slice(noExtensionLocale.length + 1, locale.length);\n        }\n\n        return result;\n      }\n    }\n\n    result.locale = getDefaultLocale();\n    return result;\n  };\n}\n\nfunction createBestFitMatcher(getDefaultLocale) {\n  return function bestFitMatcher(availableLocales, requestedLocales) {\n    var result = {\n      locale: ''\n    };\n\n    for (var _i = 0, requestedLocales_2 = requestedLocales; _i < requestedLocales_2.length; _i++) {\n      var locale = requestedLocales_2[_i];\n      var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n      var availableLocale = bestAvailableLocale(availableLocales, noExtensionLocale);\n\n      if (availableLocale) {\n        result.locale = availableLocale;\n\n        if (locale !== noExtensionLocale) {\n          result.extension = locale.slice(noExtensionLocale.length + 1, locale.length);\n        }\n\n        return result;\n      }\n    }\n\n    result.locale = getDefaultLocale();\n    return result;\n  };\n}\n\nexport function getLocaleHierarchy(locale, aliases, parentLocales) {\n  var results = [locale];\n\n  if (aliases[locale]) {\n    locale = aliases[locale];\n    results.push(locale);\n  }\n\n  var parentLocale = parentLocales[locale];\n\n  if (parentLocale) {\n    results.push(parentLocale);\n  }\n\n  var localeParts = locale.split('-');\n\n  for (var i = localeParts.length; i > 1; i--) {\n    results.push(localeParts.slice(0, i - 1).join('-'));\n  }\n\n  return results;\n}\n\nfunction lookupSupportedLocales(availableLocales, requestedLocales) {\n  var subset = [];\n\n  for (var _i = 0, requestedLocales_3 = requestedLocales; _i < requestedLocales_3.length; _i++) {\n    var locale = requestedLocales_3[_i];\n    var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n    var availableLocale = bestAvailableLocale(availableLocales, noExtensionLocale);\n\n    if (availableLocale) {\n      subset.push(availableLocale);\n    }\n  }\n\n  return subset;\n}\n\nexport function supportedLocales(availableLocales, requestedLocales, options) {\n  var matcher = 'best fit';\n\n  if (options !== undefined) {\n    options = toObject(options);\n    matcher = getOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n  }\n\n  if (matcher === 'best fit') {\n    return lookupSupportedLocales(availableLocales, requestedLocales);\n  }\n\n  return lookupSupportedLocales(availableLocales, requestedLocales);\n}\n\nvar MissingLocaleDataError =\n/** @class */\nfunction (_super) {\n  __extends(MissingLocaleDataError, _super);\n\n  function MissingLocaleDataError() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'MISSING_LOCALE_DATA';\n    return _this;\n  }\n\n  return MissingLocaleDataError;\n}(Error);\n\nexport function isMissingLocaleDataError(e) {\n  return e.type === 'MISSING_LOCALE_DATA';\n}\nexport function unpackData(locale, localeData,\n/** By default shallow merge the dictionaries. */\nreducer) {\n  if (reducer === void 0) {\n    reducer = function (all, d) {\n      return __assign(__assign({}, all), d);\n    };\n  }\n\n  var localeHierarchy = getLocaleHierarchy(locale, localeData.aliases, localeData.parentLocales);\n  var dataToMerge = localeHierarchy.map(function (l) {\n    return localeData.data[l];\n  }).filter(Boolean);\n\n  if (!dataToMerge.length) {\n    throw new MissingLocaleDataError(\"Missing locale data for \\\"\" + locale + \"\\\", lookup hierarchy: \" + localeHierarchy.join(', '));\n  }\n\n  dataToMerge.reverse();\n  return dataToMerge.reduce(reducer, {});\n}","map":{"version":3,"sources":["/home/leno4ka/projects/study/artdecoration-on-reactjs/node_modules/@formatjs/intl-utils/lib/resolve-locale.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","getCanonicalLocales","invariant","toObject","getOption","createResolveLocale","getDefaultLocale","lookupMatcher","createLookupMatcher","bestFitMatcher","createBestFitMatcher","resolveLocale","availableLocales","requestedLocales","options","relevantExtensionKeys","localeData","matcher","localeMatcher","r","foundLocale","locale","result","dataLocale","supportedExtension","_i","relevantExtensionKeys_1","key","foundLocaleData","keyLocaleData","isArray","value","supportedExtensionAddition","extension","requestedValue","unicodeExtensionValue","undefined","indexOf","optionsValue","privateIndex","preExtension","slice","postExtension","size","searchValue","pos","start","end","k","done","e","len","UNICODE_EXTENSION_SEQUENCE_REGEX","bestAvailableLocale","candidate","lastIndexOf","requestedLocales_1","noExtensionLocale","replace","availableLocale","requestedLocales_2","getLocaleHierarchy","aliases","parentLocales","results","push","parentLocale","localeParts","split","join","lookupSupportedLocales","subset","requestedLocales_3","supportedLocales","MissingLocaleDataError","_super","_this","type","Error","isMissingLocaleDataError","unpackData","reducer","all","localeHierarchy","dataToMerge","map","l","data","filter","Boolean","reverse","reduce"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getCanonicalLocales } from './get-canonical-locales';\nimport { invariant } from './invariant';\nimport { toObject, getOption } from './polyfill-utils';\nexport function createResolveLocale(getDefaultLocale) {\n    var lookupMatcher = createLookupMatcher(getDefaultLocale);\n    var bestFitMatcher = createBestFitMatcher(getDefaultLocale);\n    /**\n     * https://tc39.es/ecma402/#sec-resolvelocale\n     */\n    return function resolveLocale(availableLocales, requestedLocales, options, relevantExtensionKeys, localeData) {\n        var matcher = options.localeMatcher;\n        var r;\n        if (matcher === 'lookup') {\n            r = lookupMatcher(availableLocales, requestedLocales);\n        }\n        else {\n            r = bestFitMatcher(availableLocales, requestedLocales);\n        }\n        var foundLocale = r.locale;\n        var result = { locale: '', dataLocale: foundLocale };\n        var supportedExtension = '-u';\n        for (var _i = 0, relevantExtensionKeys_1 = relevantExtensionKeys; _i < relevantExtensionKeys_1.length; _i++) {\n            var key = relevantExtensionKeys_1[_i];\n            var foundLocaleData = localeData[foundLocale];\n            invariant(typeof foundLocaleData === 'object' && foundLocaleData !== null, \"locale data \" + key + \" must be an object\");\n            var keyLocaleData = foundLocaleData[key];\n            invariant(Array.isArray(keyLocaleData), \"keyLocaleData for \" + key + \" must be an array\");\n            var value = keyLocaleData[0];\n            invariant(typeof value === 'string' || value === null, 'value must be string or null');\n            var supportedExtensionAddition = '';\n            if (r.extension) {\n                var requestedValue = unicodeExtensionValue(r.extension, key);\n                if (requestedValue !== undefined) {\n                    if (requestedValue !== '') {\n                        if (~keyLocaleData.indexOf(requestedValue)) {\n                            value = requestedValue;\n                            supportedExtensionAddition = \"-\" + key + \"-\" + value;\n                        }\n                    }\n                    else if (~requestedValue.indexOf('true')) {\n                        value = 'true';\n                        supportedExtensionAddition = \"-\" + key;\n                    }\n                }\n            }\n            if (key in options) {\n                var optionsValue = options[key];\n                invariant(typeof optionsValue === 'string' ||\n                    typeof optionsValue === 'undefined' ||\n                    optionsValue === null, 'optionsValue must be String, Undefined or Null');\n                if (~keyLocaleData.indexOf(optionsValue)) {\n                    if (optionsValue !== value) {\n                        value = optionsValue;\n                        supportedExtensionAddition = '';\n                    }\n                }\n            }\n            result[key] = value;\n            supportedExtension += supportedExtensionAddition;\n        }\n        if (supportedExtension.length > 2) {\n            var privateIndex = foundLocale.indexOf('-x-');\n            if (privateIndex === -1) {\n                foundLocale = foundLocale + supportedExtension;\n            }\n            else {\n                var preExtension = foundLocale.slice(0, privateIndex);\n                var postExtension = foundLocale.slice(privateIndex, foundLocale.length);\n                foundLocale = preExtension + supportedExtension + postExtension;\n            }\n            foundLocale = getCanonicalLocales(foundLocale)[0];\n        }\n        result.locale = foundLocale;\n        return result;\n    };\n}\n/**\n * https://tc39.es/ecma402/#sec-unicodeextensionvalue\n * @param extension\n * @param key\n */\nfunction unicodeExtensionValue(extension, key) {\n    invariant(key.length === 2, 'key must have 2 elements');\n    var size = extension.length;\n    var searchValue = \"-\" + key + \"-\";\n    var pos = extension.indexOf(searchValue);\n    if (pos !== -1) {\n        var start = pos + 4;\n        var end = start;\n        var k = start;\n        var done = false;\n        while (!done) {\n            var e = extension.indexOf('-', k);\n            var len = void 0;\n            if (e === -1) {\n                len = size - k;\n            }\n            else {\n                len = e - k;\n            }\n            if (len === 2) {\n                done = true;\n            }\n            else if (e === -1) {\n                end = size;\n                done = true;\n            }\n            else {\n                end = e;\n                k = e + 1;\n            }\n        }\n        return extension.slice(start, end);\n    }\n    searchValue = \"-\" + key;\n    pos = extension.indexOf(searchValue);\n    if (pos !== -1 && pos + 3 === size) {\n        return '';\n    }\n    return undefined;\n}\nvar UNICODE_EXTENSION_SEQUENCE_REGEX = /-u(?:-[0-9a-z]{2,8})+/gi;\n/**\n * https://tc39.es/ecma402/#sec-bestavailablelocale\n * @param availableLocales\n * @param locale\n */\nfunction bestAvailableLocale(availableLocales, locale) {\n    var candidate = locale;\n    while (true) {\n        if (~availableLocales.indexOf(candidate)) {\n            return candidate;\n        }\n        var pos = candidate.lastIndexOf('-');\n        if (!~pos) {\n            return undefined;\n        }\n        if (pos >= 2 && candidate[pos - 2] === '-') {\n            pos -= 2;\n        }\n        candidate = candidate.slice(0, pos);\n    }\n}\nfunction createLookupMatcher(getDefaultLocale) {\n    /**\n     * https://tc39.es/ecma402/#sec-lookupmatcher\n     */\n    return function lookupMatcher(availableLocales, requestedLocales) {\n        var result = { locale: '' };\n        for (var _i = 0, requestedLocales_1 = requestedLocales; _i < requestedLocales_1.length; _i++) {\n            var locale = requestedLocales_1[_i];\n            var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n            var availableLocale = bestAvailableLocale(availableLocales, noExtensionLocale);\n            if (availableLocale) {\n                result.locale = availableLocale;\n                if (locale !== noExtensionLocale) {\n                    result.extension = locale.slice(noExtensionLocale.length + 1, locale.length);\n                }\n                return result;\n            }\n        }\n        result.locale = getDefaultLocale();\n        return result;\n    };\n}\nfunction createBestFitMatcher(getDefaultLocale) {\n    return function bestFitMatcher(availableLocales, requestedLocales) {\n        var result = { locale: '' };\n        for (var _i = 0, requestedLocales_2 = requestedLocales; _i < requestedLocales_2.length; _i++) {\n            var locale = requestedLocales_2[_i];\n            var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n            var availableLocale = bestAvailableLocale(availableLocales, noExtensionLocale);\n            if (availableLocale) {\n                result.locale = availableLocale;\n                if (locale !== noExtensionLocale) {\n                    result.extension = locale.slice(noExtensionLocale.length + 1, locale.length);\n                }\n                return result;\n            }\n        }\n        result.locale = getDefaultLocale();\n        return result;\n    };\n}\nexport function getLocaleHierarchy(locale, aliases, parentLocales) {\n    var results = [locale];\n    if (aliases[locale]) {\n        locale = aliases[locale];\n        results.push(locale);\n    }\n    var parentLocale = parentLocales[locale];\n    if (parentLocale) {\n        results.push(parentLocale);\n    }\n    var localeParts = locale.split('-');\n    for (var i = localeParts.length; i > 1; i--) {\n        results.push(localeParts.slice(0, i - 1).join('-'));\n    }\n    return results;\n}\nfunction lookupSupportedLocales(availableLocales, requestedLocales) {\n    var subset = [];\n    for (var _i = 0, requestedLocales_3 = requestedLocales; _i < requestedLocales_3.length; _i++) {\n        var locale = requestedLocales_3[_i];\n        var noExtensionLocale = locale.replace(UNICODE_EXTENSION_SEQUENCE_REGEX, '');\n        var availableLocale = bestAvailableLocale(availableLocales, noExtensionLocale);\n        if (availableLocale) {\n            subset.push(availableLocale);\n        }\n    }\n    return subset;\n}\nexport function supportedLocales(availableLocales, requestedLocales, options) {\n    var matcher = 'best fit';\n    if (options !== undefined) {\n        options = toObject(options);\n        matcher = getOption(options, 'localeMatcher', 'string', ['lookup', 'best fit'], 'best fit');\n    }\n    if (matcher === 'best fit') {\n        return lookupSupportedLocales(availableLocales, requestedLocales);\n    }\n    return lookupSupportedLocales(availableLocales, requestedLocales);\n}\nvar MissingLocaleDataError = /** @class */ (function (_super) {\n    __extends(MissingLocaleDataError, _super);\n    function MissingLocaleDataError() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'MISSING_LOCALE_DATA';\n        return _this;\n    }\n    return MissingLocaleDataError;\n}(Error));\nexport function isMissingLocaleDataError(e) {\n    return e.type === 'MISSING_LOCALE_DATA';\n}\nexport function unpackData(locale, localeData, \n/** By default shallow merge the dictionaries. */\nreducer) {\n    if (reducer === void 0) { reducer = function (all, d) { return (__assign(__assign({}, all), d)); }; }\n    var localeHierarchy = getLocaleHierarchy(locale, localeData.aliases, localeData.parentLocales);\n    var dataToMerge = localeHierarchy\n        .map(function (l) { return localeData.data[l]; })\n        .filter(Boolean);\n    if (!dataToMerge.length) {\n        throw new MissingLocaleDataError(\"Missing locale data for \\\"\" + locale + \"\\\", lookup hierarchy: \" + localeHierarchy.join(', '));\n    }\n    dataToMerge.reverse();\n    return dataToMerge.reduce(reducer, {});\n}\n"]},"metadata":{},"sourceType":"module"}